<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Postingan Token Access</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body class="bg-dark text-white">

  <div class="container py-4">

    <!-- === INPUT TOKEN === -->
    <div class="text-center mb-4">
      <h4>Masukkan Token untuk Membuka Tombol</h4>
      <input type="password" id="tokenInput" placeholder="Masukkan token" class="form-control w-50 mx-auto my-2 text-center">
      <button class="btn btn-success" id="submitToken">Gunakan Token</button>
      <p id="tokenStatus" class="mt-2"></p>
    </div>

    <!-- === POST CONTAINER === -->
    <div class="row" id="post-container"></div>

  </div>

  <script>
    // === DATA POST ===
    const posts = [
      { statusL: "Public", Like: "likeLiv", gambar: "img.jpg", judulLiv: "Judul", author: "Author", dateLiv: "2025-11-10", typeCar: "Altezza", folder: "liv", body: "body.json", window: "window.json", aspekRasio: "16/9" },
      { statusL: "Public", Like: "likeLiv73", gambar: "img.jpg", judulLiv: "TRIBAL SPECIAL 300 P", author: "ARS", dateLiv: "2025-11-10", typeCar: "Altezza", folder: "liv73", body: "body.json", window: "window.json", aspekRasio: "16/9" }
    ];

    const postContainer = document.getElementById("post-container");
    const tokenInput = document.getElementById("tokenInput");
    const submitToken = document.getElementById("submitToken");
    const tokenStatus = document.getElementById("tokenStatus");

    const validToken = "a"; // ganti dengan token kamu sendiri

    // === RENDER POST ===
    function renderPosts(showButtons = false) {
      postContainer.innerHTML = "";
      posts.forEach(post => {
        postContainer.innerHTML += `
          <div class="col-md-4 mb-4">
            <div class="card bg-secondary text-white shadow">
              <div class="card-body text-center">
                <img src="frl/${post.folder}/${post.gambar}" class="img-fluid mb-3 rounded" style="aspect-ratio:${post.aspekRasio}; object-fit:cover;">
                <h5>${post.judulLiv}</h5>
                <p class="mb-1"><i class="bi bi-person-circle"></i> ${post.author}</p>
                <p class="small text-muted">${post.dateLiv}</p>
                <p class="small">Type Car: ${post.typeCar}</p>
                ${showButtons ? `
                  <div class="d-flex gap-2">
                    <button class="btn btn-light w-50" onclick="openJSON('${post.folder}/${post.body}')">Body</button>
                    <button class="btn btn-light w-50" onclick="openJSON('${post.folder}/${post.window}')">Window</button>
                  </div>
                ` : `<p class="text-warning small mt-2">Masukkan token untuk membuka tombol</p>`}
              </div>
            </div>
          </div>
        `;
      });
    }

    renderPosts(false); // awalnya tanpa tombol

    // === CEK TOKEN ===
    submitToken.addEventListener("click", () => {
      const userToken = tokenInput.value.trim();
      if (userToken === validToken) {
        tokenStatus.textContent = "✅ Token benar! Tombol sudah terbuka.";
        tokenStatus.classList.add("text-success");
        renderPosts(true);
      } else {
        tokenStatus.textContent = "❌ Token salah, coba lagi.";
        tokenStatus.classList.add("text-danger");
      }
    });

    // === FUNGSI OPEN JSON ===
    function openJSON(path) {
      const url = `frl/${path}`;
      window.open(url, "_blank");
    }
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.js"></script>
</body>
</html>
